{% extends "base.html" %}

{% block content %}

    <h2>Statistiques Générales</h2>
    <table class="table table-condensed table-hover table-bordered table-striped table-info">
        <tbody>
            <tr>
                <th class="span8">Dernier appel</th>
                <td class="span4">{{ last_event.received_on }}</td>
            </tr>
            <tr>
                <th>Nombre total de projets</th>
                <td class="total">{{ nb_projects }}</td>
            </tr>
            <tr>
                <th>Nombre total d'appels</th>
                <td class="total">{{ nb_total_events }}</td>
            </tr>
            <tr>
                <th>Nombre total de questionnaire</th>
                <td class="total">{{ nb_survey }}</td>
            </tr>
            <tr>
                <th>Nombre total de numéros uniques</th>
                <td class="total">{{ nb_unique_number }}</td>
            </tr>
            <tr>
                <th>Durée des rappels:</th>
                <td><strong>{{ sum_duration.duration__sum }}</strong> seconde</td>
            </tr>

            <tr>
                <th class="ident">Le plus long</th>
                <td><strong>{{ longest_duration.duration__max }}</strong> seconde</td>
            </tr>
            <tr>
                <th class="ident">La moyenne</th>
                <td><strong>{{ average_duration.duration__avg|floatformat }}</strong> seconde</td>
            </tr>
            <tr>
                <th class="ident">La minimale</th>
                <td><strong>{{ short_duration.duration__min }}</strong> seconde</td>
            </tr>
            <tr>
                <th>Total par sexes (Homme/Femme/Inconnu)</th>
                <td>{{ sex_male }} H/ {{ sex_female }} F/ {{ sex_unknown }} Inconnus</td>
            </tr>
        </tbody>
    </table>

    {% include "stats_per_age.html" %}
    {% include "status_commune_table.html" %}
    {% include "status_ethinicity_table.html" %}

    <h2>Graphe des appels</h2>
    <div id="container" style="min-width: 400px; height: 400px; margin: 0 auto"></div>

{% endblock %}

{% block extra_js %}graph_event_response_counts("{% url 'event_response_counts' %}");{% endblock %}
